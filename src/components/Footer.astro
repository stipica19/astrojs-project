---
import { Github, Instagram, Linkedin } from "@lucide/astro";
import { getT, type Locale } from "../i18n";

interface Props {
  brand?: string;
  lang?: Locale;
}

const lang = ((Astro.params?.lang as Locale) ??
  (Astro.props?.lang as Locale) ??
  "hr") as Locale;
const { brand = "Bitelex" } = Astro.props as Props;
const t = getT(lang);
const f = t.footer ?? {
  tagline: "Open technology, trusted delivery.",
  company: "Company",
  resources: "Resources",
  links: {
    about: "About",
    services: "Services",
    products: "Products",
    contact: "Contact",
  },
  rights: "All rights reserved.",
};
---

<footer class="site-footer relative overflow-hidden">
  <!-- background glow -->
  <div class="pointer-events-none absolute inset-0" aria-hidden="true">
    <div class="site-footer__divider"></div>
  </div>

  <div class="relative mx-auto max-w-7xl px-4 md:px-6 py-16">
    <div class="grid gap-10 md:grid-cols-4">
      <!-- Brand / Tagline -->
      <div class="md:col-span-2">
        <a
          href={lang ? `/${lang}/` : "/"}
          class="inline-flex items-center gap-2"
        >
          <span class="site-footer__brand text-2xl font-bold tracking-tight"
            >{brand}</span
          >
        </a>
        <p class="site-footer__muted mt-4 max-w-md">{f.tagline}</p>
        <div class="mt-6 flex items-center gap-4">
          <a
            href="#"
            aria-label="GitHub"
            class="site-footer__social rounded-md p-2 transition-colors"
          >
            <Github class="h-5 w-5" />
          </a>
          <a
            href="#"
            aria-label="LinkedIn"
            class="site-footer__social rounded-md p-2 transition-colors"
          >
            <Linkedin class="h-5 w-5" />
          </a>
          <a
            href="#"
            aria-label="Twitter"
            class="site-footer__social rounded-md p-2 transition-colors"
          >
            <Instagram class="h-5 w-5" />
          </a>
        </div>
      </div>

      <!-- Company links -->
      <div>
        <h3 class="site-footer__heading text-sm font-semibold">{f.company}</h3>
        <ul class="site-footer__list mt-4 space-y-2">
          <li>
            <a
              class="site-footer__link"
              href={lang ? `/${lang}/#about` : "#about"}>{f.links.about}</a
            >
          </li>
          <li>
            <a
              class="site-footer__link"
              href={lang ? `/${lang}/#service` : "#service"}
              >{f.links.services}</a
            >
          </li>
          <li>
            <a
              class="site-footer__link"
              href={lang ? `/${lang}/#product` : "#product"}
              >{f.links.products}</a
            >
          </li>
        </ul>
      </div>

      <!-- Resources links -->
      <div>
        <h3 class="site-footer__heading text-sm font-semibold">
          {f.resources}
        </h3>
        <ul class="site-footer__list mt-4 space-y-2">
          <li>
            <a class="site-footer__link" href="#contact">{f.links.contact}</a>
          </li>
          <li><a class="site-footer__link" href="#">Privacy</a></li>
          <li><a class="site-footer__link" href="#">Terms</a></li>
        </ul>
      </div>
    </div>

    <div
      class="site-footer__bottom mt-12 flex flex-col items-start gap-4 pt-6 text-sm md:flex-row md:items-center md:justify-between"
    >
      <p>© {new Date().getFullYear()} {brand}. {f.rights}</p>
      <div class="flex items-center gap-4">
        <a href="#" class="site-footer__link">Privacy</a>
        <span class="site-footer__dot">•</span>
        <a href="#" class="site-footer__link">Cookies</a>
      </div>
    </div>
  </div>
</footer>
