---
import Layout from "../../layouts/Layout.astro";
import Hero from "../../components/Hero.astro";
import FeatureSection from "../../components/FeatureSection.astro";
import BuildWebsiteSectin from "../../components/BuildWebsiteSection.astro";
import PortfolioSection from "../../components/PortfolioSection.astro";
import { getT } from "../../i18n";
import Divider from "../../components/divider.astro";

export async function getStaticPaths() {
  const langs = ["hr", "en"];
  return langs.map((lang) => ({
    params: { lang },
    props: { lang, t: getT(lang as "hr" | "en") },
  }));
}

interface PageProps {
  lang: "hr" | "en";
  t: any;
}
const { lang, t } = Astro.props as PageProps;
---

<Layout
  brand={t.navbar.brand}
  labels={{
    service: t.navbar.service,
    product: t.navbar.product,
    about: t.navbar.about,
  }}
>
  <div class="page-bg" aria-hidden="true">
    <div class="grid-bg"></div>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
  </div>
  <Hero
    badge={t.hero.badge}
    headline={t.hero.headline}
    kicker={t.hero.sub.kicker}
    description={t.hero.sub.text}
    statsLabels={t.hero.stats}
    ctaExplore={t.hero.ctaExplore}
    ctaView={t.hero.ctaView}
  />
  <Divider />
  <main class="mx-auto px-0 md:px-0">
    <FeatureSection
      id="service"
      title={t.sections.services.title}
      variant="rows"
      ctaLabel={t.common.learnMore}
      highlightIndex={1}
      items={t.sections.services.items}
    />
    <BuildWebsiteSectin lang={lang} />
    <FeatureSection
      id="our-mission"
      title={t.sections.mission.title}
      dark={false}
      highlightIndex={1}
      items={t.sections.mission.items}
    />
    <Divider />
    <FeatureSection
      id="product"
      title={t.sections.products.title}
      dark={false}
      highlightIndex={1}
      items={t.sections.products.items}
    />
    <Divider />
    <PortfolioSection lang={lang} />
  </main>
</Layout>
