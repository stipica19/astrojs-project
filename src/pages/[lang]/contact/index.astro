---
import Layout from "../../../layouts/Layout.astro";
import { getT } from "../../../i18n";

export async function getStaticPaths() {
  const langs = ["hr", "en"] as const;
  return langs.map((lang) => ({
    params: { lang },
    props: { lang, t: getT(lang) },
  }));
}

interface PageProps {
  lang: "hr" | "en";
  t: any;
}

const { lang, t } = Astro.props as PageProps;
const c = t.contact;
---

<Layout
  brand={t.navbar.brand}
  labels={{
    service: t.navbar.service,
    product: t.navbar.product,
    about: t.navbar.about,
    contact: t.navbar.contact,
  }}
>
  <div class="page-bg" aria-hidden="true">
    <div class="grid-bg"></div>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
  </div>

  <main class="contact-page">
    <div class="mx-auto max-w-4xl px-4 md:px-6 py-28">
      <header class="contact-hero">
        <h1 class="contact-title">{c.title}</h1>
        <p class="contact-lead">{c.lead}</p>
      </header>

      <section class="contact-card" aria-label={c.title}>
        <form
          class="contact-form"
          name="contact"
          method="POST"
          data-netlify="true"
          netlify-honeypot="bot-field"
          action={`/${lang}/contact/success`}
        >
          <input type="hidden" name="form-name" value="contact" />
          <p class="contact-honeypot">
            <label>
              Donâ€™t fill this out: <input name="bot-field" />
            </label>
          </p>

          <div class="contact-grid">
            <div class="contact-field">
              <label class="contact-label" for="name">{c.fields.name}</label>
              <input
                class="contact-input"
                id="name"
                name="name"
                type="text"
                placeholder={c.placeholders.name}
                autocomplete="name"
                required
              />
            </div>

            <div class="contact-field">
              <label class="contact-label" for="email">{c.fields.email}</label>
              <input
                class="contact-input"
                id="email"
                name="email"
                type="email"
                placeholder={c.placeholders.email}
                autocomplete="email"
                required
              />
            </div>
          </div>

          <div class="contact-field">
            <label class="contact-label" for="subject">{c.fields.subject}</label
            >
            <input
              class="contact-input"
              id="subject"
              name="subject"
              type="text"
              placeholder={c.placeholders.subject}
              required
            />
          </div>

          <div class="contact-field">
            <label class="contact-label" for="message">{c.fields.message}</label
            >
            <textarea
              class="contact-textarea"
              id="message"
              name="message"
              rows={7}
              placeholder={c.placeholders.message}
              required></textarea>
          </div>

          <div class="contact-actions">
            <button class="contact-submit" type="submit">{c.submit}</button>
          </div>
        </form>
      </section>
    </div>
  </main>
</Layout>
